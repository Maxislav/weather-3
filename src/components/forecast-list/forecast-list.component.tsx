import { ForecastListItemComponent } from "../forecast-list-item/forecast-list-item.component";import { OpenweathermapItem } from "../../interfaces/openweathermap";import tinyscrollbar from '../../lib/tinyscrollbar.js';import { useEffect, useRef, useState } from "react";import styles from './forecast-list.component.less';import axios from 'axios';const OPEN_W_API_URL = 'https://api.openweathermap.org/data/2.5/forecast?id=703448&units=metric&mode=json&APPID=19e738728f18421f2074f369bdb54e81&callback=_jsonpvai3l1w22cg'export function ForecastListComponent() {    const child1 = useRef(null);    const [items, setState] = useState<OpenweathermapItem[]>([])    useEffect(() => {        axios.get<string>(OPEN_W_API_URL)            .then((d) => {                const m = d.data.match(/\(.+\)/)[0].replace(/^\(/, '').replace(/\)$/, '')                return JSON.parse(m) as { list: OpenweathermapItem[] }            })            .then(({ list }: { list: OpenweathermapItem[] }) => {                setState(list)            })            .catch(e => {                console.error(e)            })    }, [])    useEffect(() => {        if (items.length) {            const d = tinyscrollbar as any            d(child1.current, { axis: "x" })        }    }, [items.length])    const idd = 'scrollbar1'    return <>        <div id={ idd } ref={ child1 } className='forecast-component'>            <div className='scrollbar'>                <div className='track'>                    <div className='thumb'>                        <div className='end'/>                    </div>                </div>            </div>            <div className={ 'viewport ' + styles.viewport }>                <div className='overview'>                    <div className={ styles.list }>                        { items                            .map((it, index) =>                                    <ForecastListItemComponent key={ 'key_' + index } data={ it }>                                        item                                    </ForecastListItemComponent>                            )                        }                    </div>                </div>            </div>        </div>    </>}