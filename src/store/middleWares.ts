import { createListenerMiddleware, isAnyOf } from "@reduxjs/toolkit";import { loadingStart, loadingSuccess } from "./actions";import axios from "axios";import { OpenweathermapItem } from "../interfaces/openweathermap";import { OPEN_WEATHER_APPID } from "../constant/open-weather-appid";//const listenerMiddleware = createListenerMiddleware()export const listenerMiddleware = createListenerMiddleware<any>()const OPEN_W_API_URL = `https://api.openweathermap.org/data/2.5/forecast?id=703448&units=metric&mode=json&APPID=${OPEN_WEATHER_APPID}`async function apiReq() {    const res = await axios.get<{ list: OpenweathermapItem[] }>(OPEN_W_API_URL);    const { list } = res.data;    return list   // console.log(loading)    ///setState(list)}listenerMiddleware.startListening({    // type: loadingStart.toString(),    actionCreator: loadingStart,    // matcher: isAnyOf(loadingStart), //TODO equiwalent    // type: loadingStart.toString(), // //TODO equiwalent   // predicate: (action) => action.type =='LOADING_START',    effect: async (action, listenerApi) => {        const list = await apiReq()        listenerApi            .dispatch(loadingSuccess(list))    }})